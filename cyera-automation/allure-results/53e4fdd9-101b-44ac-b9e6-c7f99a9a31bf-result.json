{"uuid":"53e4fdd9-101b-44ac-b9e6-c7f99a9a31bf","name":"should manually remediate an alert through the full workflow","historyId":"7a9989fb2011833cb07bdf7039058371:6d2c2bbdaff7c1375d648e416be0df72","status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"api\"","start":1772045391230,"uuid":"a36a1555-ab63-4d64-ab9b-4dc39f806a7f","stop":1772045391232},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API POST /api/admin/reset","start":1772045391237,"uuid":"8749a90f-40bc-41fb-8cb4-bc71b0ba7b32","stop":1772045391262}],"attachments":[],"parameters":[],"name":"beforeEach hook","start":1772045391219,"uuid":"c22555dc-d0f2-40c1-bbb2-a61d28489d5d","stop":1772045391262},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Launch browser","start":1772045391265,"uuid":"e965c29c-42b8-4214-bc9c-b3c1373891de","stop":1772045392118}],"attachments":[],"parameters":[],"name":"Fixture \"browser\"","start":1772045391263,"uuid":"d8cfd1ef-cab4-4f60-bceb-25128507450d","stop":1772045392118},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Create context","start":1772045392125,"uuid":"1acc8fe7-e894-40a5-a935-726bb64dd032","stop":1772045392511}],"attachments":[],"parameters":[],"name":"Fixture \"context\"","start":1772045392120,"uuid":"f12a07a6-87ce-4dcb-9ca2-783c2cc161d4","stop":1772045392514},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Create page","start":1772045392515,"uuid":"23466a3c-f816-4022-b46d-65fd3511cfd7","stop":1772045392668}],"attachments":[],"parameters":[],"name":"Fixture \"page\"","start":1772045392514,"uuid":"5bff4622-f74e-4951-ab25-8446a59eb8d3","stop":1772045392668},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"app\"","start":1772045392669,"uuid":"2bf87037-06eb-41d0-8f90-0c4dd303418b","stop":1772045392670},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API POST /api/scans","start":1772045392672,"uuid":"d4f633cd-48cd-445a-9ab7-c01fc255f378","stop":1772045392686},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_e2264295","start":1772045392688,"uuid":"368a9b53-41a6-44f1-a152-774ec9d23583","stop":1772045392694},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_e2264295","start":1772045395698,"uuid":"5c0aed18-214a-4662-aa53-50975a044e5d","stop":1772045395715},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_e2264295","start":1772045398718,"uuid":"ece4a260-138e-40f9-8e3e-23eaab9ee61f","stop":1772045398731},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/alerts","start":1772045398736,"uuid":"7c50316e-164d-4d1f-9ef4-3148b4a9147c","stop":1772045398747}],"attachments":[],"parameters":[],"name":"Fixture \"scan\"","start":1772045392670,"uuid":"6449fe56-b598-4862-9e6e-d16e8a96a7b5","stop":1772045398748}],"attachments":[],"parameters":[],"name":"Before Hooks","start":1772045391218,"uuid":"3bac95c0-6a60-4d65-bc4b-c0a15cca24c2","stop":1772045398749},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045398762,"name":"Navigate to \"/alerts\"","uuid":"fee246e8-6a43-4d66-9a93-735bb6eea0a9","stop":1772045399685},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399688,"name":"Wait for selector getByText('Loading alerts...')","uuid":"52d7fe38-d060-41bf-98ee-82e6ccbab905","stop":1772045399713}],"attachments":[],"parameters":[],"start":1772045398752,"name":"Navigate to Alerts page","uuid":"99f705be-8e10-447f-92d0-a4ab8e7a87b8","stop":1772045399713},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399719,"name":"Query count getByRole('table', { name: 'Alerts list' }).or(getByTestId('policies-table')).locator('tbody tr')","uuid":"b7687f91-e163-408e-a75a-67c3195162df","stop":1772045399727},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399747,"name":"Click getByRole('table', { name: 'Alerts list' }).or(getByTestId('policies-table')).locator('tbody tr').first()","uuid":"dfbf7d1f-a0f4-4b83-98e5-8eaa8b6f5feb","stop":1772045399828}],"attachments":[],"parameters":[],"start":1772045399714,"name":"Click first alert matching status and auto-remediate","uuid":"be6c2be3-8567-488a-bdd2-72937a067e39","stop":1772045399828},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399830,"name":"Expected to find an OPEN alert with autoRemediate OFF","uuid":"10675c98-c75c-4842-8c32-70c35d66573f","stop":1772045399830},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399831,"name":"Alert detail drawer should be visible after clicking an alert row locator('[data-testid=\"alert-details-drawer\"]')","uuid":"1af92a48-797a-42eb-8d72-0b76d6c162e5","stop":1772045399839},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399843,"name":"Click locator('#alert-status')","uuid":"8390db1d-f3a6-4d9a-8911-3e1d8e2bb90b","stop":1772045399880},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045399881,"name":"Click locator('[role=\"option\"]').filter({ hasText: 'In Progress' })","uuid":"d7579ac6-cdec-47ce-afd1-d7e7cb63561b","stop":1772045400087},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045400088,"name":"Wait for timeout","uuid":"f2340d7b-53ae-461e-8122-281e3efad798","stop":1772045401100}],"attachments":[],"parameters":[],"start":1772045399840,"name":"Change alert status","uuid":"16bb1a15-c53c-4053-9578-07ee4c2f11b9","stop":1772045401100},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045401103,"name":"Click locator('#alert-assignee')","uuid":"758c953c-69a3-41c3-9d9d-aefe4e16a143","stop":1772045401149},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045401152,"name":"Click locator('[role=\"option\"]').filter({ hasText: 'Security Analyst' })","uuid":"a835d01a-12eb-44c4-b7f9-f7365e63cd6e","stop":1772045401197},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045401198,"name":"Wait for timeout","uuid":"3b9fcd07-e2c7-4947-8d08-818159071ec0","stop":1772045402204},{"status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045402219,"name":"Click locator('[data-testid=\"alert-details-drawer\"]').locator('button').filter({ hasText: 'Remediation' })","uuid":"ccfec81f-4631-48ae-9ceb-b84f042adae8","stop":1772045402268},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045402271,"name":"Fill \"Manual remediation initiated for security review\" locator('textarea[aria-label=\"Remediation note\"]')","uuid":"7b2f09dc-23fe-4ad0-89b0-f2dd523dc7fb","stop":1772045402287},{"status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045402288,"name":"Click getByRole('button', { name: 'Remediate' })","uuid":"e66c643f-69e8-4338-950f-4b43e51381ae","stop":1772045402308}],"attachments":[],"parameters":[],"start":1772045402207,"name":"Remediate alert","uuid":"8c5cb5f2-5318-4b84-8afb-75f0130b688b","stop":1772045402309},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"screenshot","source":"8faff8f5-0f68-42bc-b95e-7afb605d7e16-attachment.png","type":"image/png"}],"parameters":[],"start":1772045402913,"name":"screenshot","stop":1772045402913},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"error-context","source":"144dbcc1-4187-4268-8d4c-d02f14ab6d64-attachment.md","type":"text/markdown"}],"parameters":[],"start":1772045402914,"name":"error-context","stop":1772045402914},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"trace","source":"6fdf9040-6d27-4f5d-954c-094ba8ad58a0-attachment.zip","type":"application/vnd.allure.playwright-trace"}],"parameters":[],"start":1772045402915,"name":"trace","stop":1772045402915},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"scan\"","start":1772045402550,"uuid":"4612233e-028a-4789-86df-46a846950338","stop":1772045402550},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"app\"","start":1772045402550,"uuid":"7d4e120e-8043-4028-90f7-8ba5a68cde1d","stop":1772045402550},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"page\"","start":1772045402551,"uuid":"9a77a8fc-93ea-4bc6-a0ac-c7e3b49543d1","stop":1772045402551},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Close context","start":1772045402681,"uuid":"fd2cae91-0851-4b70-9b3a-df8c488de818","stop":1772045402697}],"attachments":[],"parameters":[],"name":"Fixture \"context\"","start":1772045402551,"uuid":"558d7631-f1fa-410c-a737-cce9d0ad55f2","stop":1772045402697},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"api\"","start":1772045402698,"uuid":"7109e74f-dfa2-4ee9-bf26-c26bb26f491f","stop":1772045402698}],"attachments":[],"parameters":[],"name":"After Hooks","start":1772045402310,"uuid":"130ae6b0-a884-4e04-81e6-f6f9a3cf8fdf","stop":1772045402708}],"attachments":[{"name":"stdout","source":"cd191ae9-afe0-4a02-b9ff-2a73792b7ff5-attachment.txt","type":"text/plain"},{"name":"stderr","source":"c14c9bf3-b2ee-4d05-b7bc-d234ddae3709-attachment.txt","type":"text/plain"}],"parameters":[{"name":"Project","value":"ui"}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"ui.alert-manual-remediation.spec.ts"},{"name":"titlePath","value":" > ui > ui/alert-manual-remediation.spec.ts > Alert Manual Remediation — UI"},{"name":"host","value":"Roies-MacBook-Pro.local"},{"name":"thread","value":"pid-98581-worker-0"},{"name":"parentSuite","value":"ui"},{"name":"suite","value":"ui/alert-manual-remediation.spec.ts"},{"name":"subSuite","value":"Alert Manual Remediation — UI"}],"links":[],"start":1772045391216,"testCaseId":"7a9989fb2011833cb07bdf7039058371","fullName":"ui/alert-manual-remediation.spec.ts:4:7","titlePath":["ui","alert-manual-remediation.spec.ts","Alert Manual Remediation — UI"],"stop":1772045401825}