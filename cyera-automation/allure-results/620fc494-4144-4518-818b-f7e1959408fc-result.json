{"uuid":"620fc494-4144-4518-818b-f7e1959408fc","name":"should manually remediate an alert through the full workflow","historyId":"7a9989fb2011833cb07bdf7039058371:6d2c2bbdaff7c1375d648e416be0df72","status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"api\"","start":1772045404029,"uuid":"d70ef50f-13d6-4c99-8b12-ab8cafa78032","stop":1772045404032},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API POST /api/admin/reset","start":1772045404039,"uuid":"2c2e7143-1b7c-42f9-b034-b8f04bc15fc4","stop":1772045404067}],"attachments":[],"parameters":[],"name":"beforeEach hook","start":1772045404016,"uuid":"cc5db1b6-18d2-4ffb-88a7-dcff3aa3503c","stop":1772045404067},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Launch browser","start":1772045404072,"uuid":"4d8b001c-c97d-4cf6-8df2-3780ce041729","stop":1772045404752}],"attachments":[],"parameters":[],"name":"Fixture \"browser\"","start":1772045404069,"uuid":"13342f94-2f39-4faf-98cd-8bafb1cc4063","stop":1772045404752},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Create context","start":1772045404759,"uuid":"69295187-3e82-4b7e-9629-3ed3048c644e","stop":1772045405035}],"attachments":[],"parameters":[],"name":"Fixture \"context\"","start":1772045404755,"uuid":"300a7eab-f0fc-48e2-acc3-959ab3b6db9e","stop":1772045405039},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Create page","start":1772045405040,"uuid":"82243fef-ccf2-4129-89c4-b7dffa6984ac","stop":1772045405162}],"attachments":[],"parameters":[],"name":"Fixture \"page\"","start":1772045405039,"uuid":"441fc24c-c601-4d90-95ea-0dc42af7d056","stop":1772045405162},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"app\"","start":1772045405164,"uuid":"94254ed4-2aca-4ff8-b363-69250f5f0590","stop":1772045405165},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API POST /api/scans","start":1772045405167,"uuid":"ce327fac-1f2a-4a42-a356-424ec5601e7f","stop":1772045405179},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_517373e0","start":1772045405180,"uuid":"2dfa309d-86e0-467d-804b-d743fecb2dea","stop":1772045405187},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_517373e0","start":1772045408189,"uuid":"e2466b1e-5e72-4395-8993-b45a0c85053c","stop":1772045408199},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/scans/scan_517373e0","start":1772045411203,"uuid":"624d0da5-24eb-46a9-9ba9-99c3ce1c2204","stop":1772045411218},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"API GET /api/alerts","start":1772045411221,"uuid":"1075b4a0-d2ca-4de3-ae8f-a4b27aed4df2","stop":1772045411231}],"attachments":[],"parameters":[],"name":"Fixture \"scan\"","start":1772045405165,"uuid":"77f13a93-99a9-4141-8e2d-906de65b50d2","stop":1772045411232}],"attachments":[],"parameters":[],"name":"Before Hooks","start":1772045404016,"uuid":"ad8d7f96-7eb9-4616-a6ef-dfef5b3a5669","stop":1772045411232},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045411243,"name":"Navigate to \"/alerts\"","uuid":"c6a2e275-52c7-4a66-9b4d-aecaaa67433e","stop":1772045412106},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412109,"name":"Wait for selector getByText('Loading alerts...')","uuid":"40e6c669-16d9-4639-83f1-1e874f5fb7c7","stop":1772045412126}],"attachments":[],"parameters":[],"start":1772045411234,"name":"Navigate to Alerts page","uuid":"17baa8f8-f6fc-48f4-b664-09bb5fc65d3e","stop":1772045412127},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412131,"name":"Query count getByRole('table', { name: 'Alerts list' }).or(getByTestId('policies-table')).locator('tbody tr')","uuid":"844c332b-0421-4520-98c1-279970288f42","stop":1772045412137},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412155,"name":"Click getByRole('table', { name: 'Alerts list' }).or(getByTestId('policies-table')).locator('tbody tr').first()","uuid":"98ca2415-5b78-48f5-a7ed-3d1efb6d40ca","stop":1772045412181}],"attachments":[],"parameters":[],"start":1772045412127,"name":"Click first alert matching status and auto-remediate","uuid":"18cc86d5-02d6-4195-839a-bb4d3845795b","stop":1772045412181},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412182,"name":"Expected to find an OPEN alert with autoRemediate OFF","uuid":"340b1091-d824-4685-8316-467629c550d4","stop":1772045412182},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412183,"name":"Alert detail drawer should be visible after clicking an alert row locator('[data-testid=\"alert-details-drawer\"]')","uuid":"9d67d450-83ef-4a71-a6fb-45b857c2e8e7","stop":1772045412199},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412203,"name":"Click locator('#alert-status')","uuid":"e36b2cc4-d02b-41ff-bfad-4b434a3c96d8","stop":1772045412246},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412247,"name":"Click locator('[role=\"option\"]').filter({ hasText: 'In Progress' })","uuid":"054e3e5c-d695-4b11-b06d-893a94890ef7","stop":1772045412281},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045412281,"name":"Wait for timeout","uuid":"0bd17489-c573-4b21-a81f-2e23cd5b53cb","stop":1772045413286}],"attachments":[],"parameters":[],"start":1772045412200,"name":"Change alert status","uuid":"3ab48f46-b149-4add-b59d-e0d40e92d9cb","stop":1772045413286},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045413289,"name":"Click locator('#alert-assignee')","uuid":"baee94eb-24df-4083-9668-54caab67c0ea","stop":1772045413331},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045413333,"name":"Click locator('[role=\"option\"]').filter({ hasText: 'Security Analyst' })","uuid":"24a19d20-8923-46b7-a728-6a9a5ed9d697","stop":1772045413365},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045413366,"name":"Wait for timeout","uuid":"2df989ea-8523-43c9-84ec-893db36542bb","stop":1772045414375},{"status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045414390,"name":"Click locator('[data-testid=\"alert-details-drawer\"]').locator('button').filter({ hasText: 'Remediation' })","uuid":"d942b390-f080-43a5-8873-5fbb18ac4256","stop":1772045414433},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045414435,"name":"Fill \"Manual remediation initiated for security review\" locator('textarea[aria-label=\"Remediation note\"]')","uuid":"6e1fce19-bc2c-4a2b-8277-703b9d974b3b","stop":1772045414448},{"status":"failed","statusDetails":{"message":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n","trace":"Error: locator.click: Error: strict mode violation: getByRole('button', { name: 'Remediate' }) resolved to 2 elements:\n    1) <button type=\"button\" aria-expanded=\"false\" aria-haspopup=\"listbox\" id=\"alert-auto-remediate-filter\" aria-label=\"Auto Remediate: All\">…</button> aka getByRole('button', { name: 'Auto Remediate: All' })\n    2) <button>Remediate</button> aka getByTestId('alert-details-drawer').getByRole('button', { name: 'Remediate' })\n\nCall log:\n  - waiting for getByRole('button', { name: 'Remediate' })\n\n    at AlertDetailPage.remediate (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/web/pages/AlertDetailPage.ts:64:32)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:16:18\n    at AlertDetailPage.replacementMethod (/Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/src/decorators/stepDecorator.ts:15:16)\n    at /Users/roieargaman/PycharmProjects/cyera_dspm/cyera-automation/tests/ui/alert-manual-remediation.spec.ts:26:5"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1772045414449,"name":"Click getByRole('button', { name: 'Remediate' })","uuid":"bafece7a-dda7-4eb6-9166-56b831fc6990","stop":1772045414466}],"attachments":[],"parameters":[],"start":1772045414377,"name":"Remediate alert","uuid":"e9c88ff1-9605-4cc5-b28c-7775c09e67af","stop":1772045414467},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"screenshot","source":"c3b1406e-7866-4325-a54e-827a78bd0624-attachment.png","type":"image/png"}],"parameters":[],"start":1772045414901,"name":"screenshot","stop":1772045414901},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"error-context","source":"d7f3c17c-3dca-4b55-b3d2-f38a051d94d7-attachment.md","type":"text/markdown"}],"parameters":[],"start":1772045414902,"name":"error-context","stop":1772045414902},{"statusDetails":{},"stage":"finished","steps":[],"attachments":[{"name":"trace","source":"8394de18-1ca9-4f77-80cf-9f026dbd5ac1-attachment.zip","type":"application/vnd.allure.playwright-trace"}],"parameters":[],"start":1772045414902,"name":"trace","stop":1772045414902},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"scan\"","start":1772045414537,"uuid":"05c6ca87-72f7-45a0-b070-1673d81df661","stop":1772045414537},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"app\"","start":1772045414537,"uuid":"26a5249d-e721-414a-b90a-2f986e7303a3","stop":1772045414537},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"page\"","start":1772045414537,"uuid":"6e444adc-b5df-4467-bc78-87dacbd3ac6d","stop":1772045414537},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Close context","start":1772045414682,"uuid":"99c8b9fc-fa39-4389-9f7d-9f5bc6e609c9","stop":1772045414698}],"attachments":[],"parameters":[],"name":"Fixture \"context\"","start":1772045414537,"uuid":"19399195-3d12-4fe0-bf30-de75223f10c9","stop":1772045414698},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"name":"Fixture \"api\"","start":1772045414699,"uuid":"ab03fff6-b72f-4797-bb9b-9d3e38c11418","stop":1772045414699}],"attachments":[],"parameters":[],"name":"After Hooks","start":1772045414469,"uuid":"4255e387-d346-498d-9622-66d360594cf0","stop":1772045414707}],"attachments":[{"name":"stdout","source":"421ff0e5-4f37-488a-a154-fcbb7c04e20d-attachment.txt","type":"text/plain"},{"name":"stderr","source":"915ff4ad-e79d-49f4-8ba7-e28eedfe755e-attachment.txt","type":"text/plain"}],"parameters":[{"name":"Project","value":"ui"}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"ui.alert-manual-remediation.spec.ts"},{"name":"titlePath","value":" > ui > ui/alert-manual-remediation.spec.ts > Alert Manual Remediation — UI"},{"name":"host","value":"Roies-MacBook-Pro.local"},{"name":"thread","value":"pid-98581-worker-0"},{"name":"parentSuite","value":"ui"},{"name":"suite","value":"ui/alert-manual-remediation.spec.ts"},{"name":"subSuite","value":"Alert Manual Remediation — UI"}],"links":[],"start":1772045404014,"testCaseId":"7a9989fb2011833cb07bdf7039058371","fullName":"ui/alert-manual-remediation.spec.ts:4:7","titlePath":["ui","alert-manual-remediation.spec.ts","Alert Manual Remediation — UI"],"stop":1772045413995}